YUI.add("labr-view-item",function(e,t){e.namespace("LAbr");var n="boundingBox",r=e.Base.create("labr-view-item",e.Widget,[e.WidgetChild],{initializer:function(e){var t=this;t._publishEvents()},_publishEvents:function(){var e=this;e.publish("openitem",{emitFacade:!0,broadcast:1})},BOUNDING_TEMPLATE:'<li class="list-group-item"></li>',CONTENT_TEMPLATE:'<div class="item-icon pull-left"></div><h5 class="list-group-item-heading"><span>Tros Burgers</span><div class= "item-rating pull-right" ><span class="glyphicon glyphicon-star"></span></div></h5><div><span class="list-group-item-text categories">Fast Food, Restaurant Food</span><span class="list-group-item-text distance pull-right">0.4 millas</span><div class="clearfix"></div></div>',renderUI:function(){var e=this,t=e.get(n),r=t.getComputedStyle("height");r=parseInt(r.substring(0,r.length-2)),e.set("heightX",r)},bindUI:function(){var e=this,t=e.get(n),r;t.on("click",function(t){r={event:t,address:e.get("address"),phone:e.get("phone"),title:e.get("title"),latitude:e.get("latitude"),longitude:e.get("longitude"),city:e.get("city"),state:e.get("state"),latestReview:e.get("latestReview")},e.fire("openitem",{data:r}),t.stopPropagation()})},syncUI:function(){var e=this,t=e.get(n);t.one(".list-group-item-heading span").set("innerHTML",e.get("title")),t.one("span.categories").set("innerHTML",e.get("categories")),t.one("span.distance").set("innerHTML",e.get("distance")),e.syncRating()},applyFilter:function(t){var r=this,i=r.get(n),s=r.get("categories"),o=0,u=[],a,f=[];t===""?(i.one("span.categories").set("innerHTML",s),i.replaceClass("hidden","show")):(u=t.split(","),e.each(u,function(t){o=e.AutoCompleteFilters.subWordMatch(t,[{text:s}]).length,o&&f.push(t)}),o?(a=e.Highlight.all(s,f),i.one("span.categories").set("innerHTML",a)):i.replaceClass("show","hidden"))},syncRating:function(){var e=this,t=e.get(n),r=e.get("rating"),i=1,s='<span class="glyphicon glyphicon-star"></span>',o="";r>0&&(r=Math.round(r));for(i;i<=5;i++)i<r?o="glyphicon-star":o="glyphicon-star-empty",s+='<span class="glyphicon '+o+'"></span>';t.one(".item-rating").set("innerHTML",s)}},{ATTRS:{address:{value:""},city:{value:""},state:{value:""},phone:{value:""},distance:{value:""},rating:{value:""},latestReview:{value:""},title:{value:""},categories:{value:""},latitude:{value:""},longitude:{value:""},heightX:{value:""}}});e.LAbr.Item=r},"@VERSION@",{requires:["widget","widget-child","highlight","autocomplete-filters"],skinnable:!0});
